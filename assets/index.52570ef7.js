(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}})();const t=document.querySelector("#app"),c=async()=>{if(!t)return;const n=t.dataset.members;if(!n){t.innerHTML='<span class="error">Error - No URL configured.</span>';return}t.innerHTML='<span class="loading">Loading . . .</span>',await fetch(n).then(r=>r.json()).then(r=>{a(r)}).catch(r=>{t.innerHTML='<span class="error">Error - Could not fetch data</span>',console.error(r)})},a=n=>{if(!t)return;const r=document.createElement("div");r.classList.add("webring"),r.innerHTML='<h3></h3><div class="logo"></div><p class="description"></p><a href="#" class="prev"></a><a href="#" class="random"></a><a href="#" class="next"></a>',t.append(r),t.querySelector("h3").innerHTML=n.title,t.querySelector(".logo").innerHTML=`<img src="${n.image}" alt="webring logo">`,t.querySelector(".description").innerHTML=n.description,t.querySelector(".prev").innerHTML="prev",t.querySelector(".random").innerHTML="random",t.querySelector(".next").innerHTML="next";const{prev:i,next:s}=d(n.members);i&&(t.querySelector(".prev").href=i.url,t.querySelector(".prev").title=i.title),s&&(t.querySelector(".next").href=s.url,t.querySelector(".next").title=s.title),t.querySelector(".random").addEventListener("click",()=>{u(n.members)}),t.classList.add("loaded")},d=n=>{const r=n.length-1,i={prev:null,next:null};return n.forEach((s,e)=>{if(s.url===window.location.origin){const o=e-1<0?r:e-1,l=e+1>r?0:e+1;i.prev=n[o],i.next=n[l]}}),i},u=n=>{const r=n.filter(s=>s.url!==window.location.origin),i=Math.floor(Math.random()*r.length);window.location.href=r[i].url};c();
